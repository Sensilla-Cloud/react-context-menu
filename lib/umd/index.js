!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):(e="undefined"!=typeof globalThis?globalThis:e||self)["@huner2/react-context-menu"]=t(e.React,e.ReactDOM)}(this,(function(e,t){"use strict";return({children:n,items:r,className:c,containerClassName:l,portalTarget:u})=>{const o=e.useRef(null),a=e.useRef(null),[i,s]=e.useState(!1),[f,d]=e.useState([0,0]),[m,p]=e.useState(!1),v=e=>{e.preventDefault(),e.stopPropagation(),d([e.pageX,e.pageY]),s(!0),p(!0)},x=()=>{i&&a.current&&s(!1)};return e.useEffect((()=>{if(i&&a.current&&m){const{offsetHeight:e,offsetWidth:t}=a.current,n=f[1]+e,r=f[0]+t,{innerHeight:c,innerWidth:l}=window;n>c&&(a.current.style.top=f[1]-e+"px"),r>l&&(a.current.style.left=f[0]-t+"px")}p(!1)}),[m]),e.useEffect((()=>{if(o&&o.current)return o.current.addEventListener("contextmenu",v),()=>{var e;null===(e=o.current)||void 0===e||e.removeEventListener("contextmenu",v)}}),[o]),e.useEffect((()=>{i?document.addEventListener("click",x):document.removeEventListener("click",x)}),[i]),e.createElement(e.Fragment,null,n?e.cloneElement(n,{ref:o}):null,t.createPortal(e.createElement("div",{className:null!=l?l:"react-context-menu-container"},i?e.createElement("div",{style:{position:"absolute",top:f[1],left:f[0],flexDirection:"column",display:"flex",zIndex:99,userSelect:"none"},ref:a,className:c},r):null),null!=u?u:document.body))}}));
//# sourceMappingURL=index.js.map

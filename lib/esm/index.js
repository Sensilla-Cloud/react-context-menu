import e from"react";import{createPortal as t}from"react-dom";const n=({children:n,items:r,className:l,containerClassName:c,portalTarget:u})=>{const o=e.useRef(null),s=e.useRef(null),[a,i]=e.useState(!1),[f,m]=e.useState([0,0]),[d,p]=e.useState(!1),v=e=>{e.preventDefault(),m([e.pageX,e.pageY]),i(!0),p(!0)},E=()=>{a&&s.current&&i(!1)};return e.useEffect((()=>{if(a&&s.current&&d){const{offsetHeight:e,offsetWidth:t}=s.current,n=f[1]+e,r=f[0]+t,{innerHeight:l,innerWidth:c}=window;n>l&&(s.current.style.top=f[1]-e+"px"),r>c&&(s.current.style.left=f[0]-t+"px")}p(!1)}),[d]),e.useEffect((()=>{if(o&&o.current)return o.current.addEventListener("contextmenu",v),()=>{var e;null===(e=o.current)||void 0===e||e.removeEventListener("contextmenu",v)}}),[o]),e.useEffect((()=>{a?document.addEventListener("click",E):document.removeEventListener("click",E)}),[a]),e.createElement(e.Fragment,null,n?e.cloneElement(n,{ref:o}):null,t(e.createElement("div",{className:null!=c?c:"react-context-menu-container"},a?e.createElement("div",{style:{position:"absolute",top:f[1],left:f[0],flexDirection:"column",display:"flex",zIndex:99,userSelect:"none"},ref:s,className:l},r):null),null!=u?u:document.body))};export{n as default};
//# sourceMappingURL=index.js.map

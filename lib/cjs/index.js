"use strict";var e=require("react"),t=require("react-dom");module.exports=({children:n,items:r,className:l,containerClassName:c,portalTarget:u})=>{const s=e.useRef(null),a=e.useRef(null),[o,i]=e.useState(!1),[f,m]=e.useState([0,0]),[d,p]=e.useState(!1),v=e=>{e.preventDefault(),e.stopPropagation(),m([e.pageX,e.pageY]),i(!0),p(!0)},E=()=>{o&&a.current&&i(!1)};return e.useEffect((()=>{if(o&&a.current&&d){const{offsetHeight:e,offsetWidth:t}=a.current,n=f[1]+e,r=f[0]+t,{innerHeight:l,innerWidth:c}=window;n>l&&(a.current.style.top=f[1]-e+"px"),r>c&&(a.current.style.left=f[0]-t+"px")}p(!1)}),[d]),e.useEffect((()=>{if(s&&s.current)return s.current.addEventListener("contextmenu",v),()=>{var e;null===(e=s.current)||void 0===e||e.removeEventListener("contextmenu",v)}}),[s]),e.useEffect((()=>{o?document.addEventListener("click",E):document.removeEventListener("click",E)}),[o]),e.createElement(e.Fragment,null,n?e.cloneElement(n,{ref:s}):null,t.createPortal(e.createElement("div",{className:null!=c?c:"react-context-menu-container"},o?e.createElement("div",{style:{position:"absolute",top:f[1],left:f[0],flexDirection:"column",display:"flex",zIndex:99,userSelect:"none"},ref:a,className:l},r):null),null!=u?u:document.body))};
//# sourceMappingURL=index.js.map
